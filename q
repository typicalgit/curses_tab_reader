write a python function that finds headings, these appear as text within square brackets, and the text that follows until the next heading or the end of file, whichever comes first. The result should be a dictionary whose keys are the headings and values are the text following the headingss. If there are no headings, the entire text should be the dictionary value and the key should be 'whole_text'. If there are no headings, the function should return the dictionary with the key 'whole_text' before moving on. There should be checks to ensure that the text is not None or an empty string. If a heading is found more than once, the heading should have the string '.1' appended to the heading name.
